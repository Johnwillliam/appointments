{"version":3,"sources":["webpack:///app-confirmation.js","webpack:///webpack/bootstrap 99066c14eb7771d52560","webpack:///./_src/shortcodes/js/app-confirmation.dev.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","window","Appointments","shortcodes","jQuery","document","ready","$","confirmation","init","this","strings","AppShortcodeConfirmation","waitImg","waitingGif","$finalValue","$confirmationButton","$gcalEntry","selectedValue","bind","self","$body","on","preConfirmation","apply","app_cancel_location","location","href","reload","$element","css","append","app_value","find","val","pre_data","action","nonce","post","ajaxurl","response","remove","error","swal","errorTitle","modal","html","service","service_location","show","worker","worker_location","start","end","confirmationPrice","price","askName","askEmail","askPhone","askAddress","askCity","askNote","askGCal","focus","offset","top","scrollTop","after","final_value","app_name","app_email","app_phone","app_address","app_city","app_note","app_gcal","app_warning_text","warningText","app_confirmation_text","confirmationText","app_gdpr","is","post_data","askGDPR","GDPRmissingText","hide","title","text","type","trigger","refresh","app_id","old_val","new_val","replace","service_name","old_val2","new_val2","gcal_url","open","mp","variation","connectionErrorText","gcal_same_window","app_location"],"mappings":"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","file":"app-confirmation.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\n\r\nwindow.Appointments = window.Appointments || {};\r\nAppointments.shortcodes = Appointments.shortcodes || {};\r\n\r\n\r\njQuery( document).ready( function( $ ) {\r\n    Appointments.shortcodes.confirmation = {\r\n        init: function() {\r\n            this.strings = AppShortcodeConfirmation;\r\n            this.waitImg = \"<img class='wait_img' src='\" + this.strings.waitingGif + \"' />\";\r\n            this.$finalValue = $('.appointments-confirmation-final-value');\r\n\r\n            this.$confirmationButton = $(\".appointments-confirmation-button\");\r\n\r\n            this.$gcalEntry = $(\".appointments-gcal-field-entry\");\r\n\r\n            this.selectedValue = '';\r\n\r\n            this.bind();\r\n        },\r\n\r\n        bind: function() {\r\n            var self = this;\r\n\r\n            var $body = $('body');\r\n            $body.on( 'click', '.app_timetable_cell.free, .app_week_timetable_cell.free', function() {\r\n                self.preConfirmation.apply( self, [ $(this) ] );\r\n            } );\r\n\r\n            $body.on('click', '.appointments-confirmation-cancel-button', function(){\r\n                if ( typeof app_cancel_location === 'function' ) {\r\n                    window.location.href = app_cancel_location();\r\n                }\r\n                else {\r\n                    window.location.reload();\r\n                }\r\n            });\r\n\r\n            $body.on( 'click', '.appointments-confirmation-button', function() {\r\n                self.confirmation.apply( self, [ $(this) ] );\r\n            });\r\n\r\n        },\r\n\r\n        preConfirmation: function( $element ) {\r\n            this.selectedValue = '';\r\n            $element\r\n                .css( \"text-align\",\"center\" )\r\n                .append( this.waitImg );\r\n\r\n            var app_value = $element.find(\".appointments_take_appointment\").val();\r\n\r\n            this.selectedValue = app_value;\r\n\r\n            var pre_data = {\r\n                action: \"pre_confirmation\",\r\n                value: app_value,\r\n                nonce: AppShortcodeConfirmation.nonce\r\n            };\r\n\r\n            var self = this;\r\n\r\n            $.post( AppShortcodeConfirmation.ajaxurl, pre_data, function( response ) {\r\n                $(\".wait_img\").remove();\r\n\r\n                if ( response && response.error ) {\r\n                    swal(AppShortcodeConfirmation.errorTitle, response.error, 'error');\r\n                }\r\n                else {\r\n                    $(\"#appointments-confirmation-wrappermodal\").modal(\"show\");\r\n                    $(\".appointments-confirmation-service\").html(response.service);\r\n                    /**\r\n                     * Service location\r\n                     */\r\n                    if (response.service_location){\r\n                        $(\".appointments-confirmation-service_location\").html(response.service_location).show();\r\n                    }\r\n                    if (response.worker){\r\n                        $(\".appointments-confirmation-worker\").html(response.worker).show();\r\n                    }\r\n                    /**\r\n                     * worker location\r\n                     */\r\n                    if (response.worker_location){\r\n                        $(\".appointments-confirmation-worker_location\").html(response.worker_location).show();\r\n                    }\r\n                    $(\".appointments-confirmation-start\").html(response.start);\r\n                    $(\".appointments-confirmation-end\").html(response.end);\r\n\r\n                    var confirmationPrice = $(\".appointments-confirmation-price\");\r\n                    confirmationPrice.html(response.price);\r\n                    if (response.price != \"0\"){\r\n                        confirmationPrice.show();\r\n                    }\r\n                    if ( self.strings.askName ){\r\n                        $(\".appointments-name-field\").show();\r\n                    }\r\n                    if ( self.strings.askEmail ){\r\n                        $(\".appointments-email-field\").show();\r\n                    }\r\n                    if ( self.strings.askPhone ){\r\n                        $(\".appointments-phone-field\").show();\r\n                    }\r\n                    if ( self.strings.askAddress ){\r\n                        $(\".appointments-address-field\").show();\r\n                    }\r\n                    if ( self.strings.askCity ){\r\n                        $(\".appointments-city-field\").show();\r\n                    }\r\n                    if ( self.strings.askNote ){\r\n                        $(\".appointments-note-field\").show();\r\n                    }\r\n                    if ( self.strings.askGCal ){\r\n                        $(\".appointments-gcal-field\").show();\r\n                    }\r\n\r\n                    $(\".appointments-confirmation-button\").focus();\r\n                    var offset = $(\".appointments-confirmation-wrapper\").offset();\r\n                    if (offset && \"top\" in offset && offset.top) {\r\n                        $(window).scrollTop(offset.top);\r\n                    }\r\n                }\r\n            },\"json\");\r\n\r\n        },\r\n\r\n        confirmation: function() {\r\n            $(\".appointments-confirmation-cancel-button\").after(this.waitImg);\r\n\r\n            var final_value = this.selectedValue;\r\n            var app_name = $(\".appointments-name-field-entry\").val();\r\n            var app_email = $(\".appointments-email-field-entry\").val();\r\n            var app_phone = $(\".appointments-phone-field-entry\").val();\r\n            var app_address = $(\".appointments-address-field-entry\").val();\r\n            var app_city = $(\".appointments-city-field-entry\").val();\r\n            var app_note = $(\".appointments-note-field-entry\").val();\r\n            var app_gcal = \"\";\r\n            var app_warning_text = AppShortcodeConfirmation.warningText;\r\n            var app_confirmation_text = AppShortcodeConfirmation.confirmationText;\r\n            var app_gdpr = $('.appointments-gdpr-confirmation input[type=checkbox]');\r\n\r\n            var self = this;\r\n\r\n            if ( this.$gcalEntry.is( \":checked\" ) ) {\r\n                app_gcal = 1;\r\n            }\r\n\r\n            var post_data = {\r\n                action: \"post_confirmation\",\r\n                value: final_value,\r\n                app_name: app_name,\r\n                app_email: app_email,\r\n                app_phone: app_phone,\r\n                app_address: app_address,\r\n                app_city: app_city,\r\n                app_note: app_note,\r\n                app_gcal: app_gcal,\r\n                app_gdpr: app_gdpr.is(':checked'),\r\n                nonce: AppShortcodeConfirmation.nonce\r\n            };\r\n\r\n            if ( AppShortcodeConfirmation.askName ) {\r\n                if ($(\".appointments-name-field-entry\").val() == \"\") {\r\n                    swal(AppShortcodeConfirmation.errorTitle, app_warning_text, 'error' );\r\n                    $(\".appointments-name-field-entry\").focus();\r\n                    $(\".wait_img\").remove();\r\n                    return false;\r\n                }\r\n            }\r\n            if ( AppShortcodeConfirmation.askEmail ) {\r\n                if ($(\".appointments-email-field-entry\").val() == \"\") {\r\n                    swal(AppShortcodeConfirmation.errorTitle, app_warning_text, 'error' );\r\n                    $(\".appointments-email-field-entry\").focus();\r\n                    $(\".wait_img\").remove();\r\n                    return false;\r\n                }\r\n            }\r\n            if ( AppShortcodeConfirmation.askPhone ) {\r\n                if ($(\".appointments-phone-field-entry\").val() == \"\") {\r\n                    swal(AppShortcodeConfirmation.errorTitle, app_warning_text, 'error' );\r\n                    $(\".appointments-phone-field-entry\").focus();\r\n                    $(\".wait_img\").remove();\r\n                    return false;\r\n                }\r\n            }\r\n            if ( AppShortcodeConfirmation.askAddress ) {\r\n                if ($(\".appointments-address-field-entry\").val() == \"\") {\r\n                    swal(AppShortcodeConfirmation.errorTitle, app_warning_text, 'error' );\r\n                    $(\".appointments-address-field-entry\").focus();\r\n                    $(\".wait_img\").remove();\r\n                    return false;\r\n                }\r\n            }\r\n            if ( AppShortcodeConfirmation.askCity ) {\r\n                if ($(\".appointments-city-field-entry\").val() == \"\") {\r\n                    swal(AppShortcodeConfirmation.errorTitle, app_warning_text, 'error' );\r\n                    $(\".appointments-city-field-entry\").focus();\r\n                    $(\".wait_img\").remove();\r\n                    return false;\r\n                }\r\n            }\r\n            if ( AppShortcodeConfirmation.askGDPR && ! app_gdpr.is(':checked')) {\r\n                swal(AppShortcodeConfirmation.errorTitle, AppShortcodeConfirmation.GDPRmissingText, 'error' );\r\n                app_gdpr.focus();\r\n                $(\".wait_img\").remove();\r\n                return false;\r\n            }\r\n\r\n            $.post(AppShortcodeConfirmation.ajaxurl, post_data, function(response) {\r\n                $(\".wait_img\").hide();\r\n                if ( response && response.error ) {\r\n                    swal({\r\n                        title:AppShortcodeConfirmation.errorTitle,\r\n                        text: response.error,\r\n                        type: 'error'\r\n                    }, function() {\r\n                        $(document).trigger(\"app-confirmation-response_received\", [response]);\r\n                    });\r\n                }\r\n                else if ( response && ( response.refresh==\"1\" || response.price==0 ) ) {\r\n                    swal({\r\n                        title: app_confirmation_text,\r\n                        type: 'success'\r\n                    }, function() {\r\n                        if ( response.gcal_url != \"\" ) {\r\n                            if ( response.gcal_same_window ) {\r\n                                window.open(response.gcal_url,\"_self\");\r\n                            }\r\n                            else {\r\n                                window.open(response.gcal_url,\"_blank\");\r\n                                if ( typeof app_location === 'function' ) {\r\n                                    window.location.href=app_location();\r\n                                }\r\n                                else {\r\n                                    window.location.reload();\r\n                                }\r\n                            }\r\n                        }\r\n                        else {\r\n                            if ( typeof app_location === 'function' ) {\r\n                                window.location.href=app_location();\r\n                            }\r\n                            else {\r\n                                window.location.reload();\r\n                            }\r\n                        }\r\n                        $(document).trigger(\"app-confirmation-response_received\", [response]);\r\n                    });\r\n\r\n\r\n                }\r\n                else if ( response ) {\r\n                    $(\".appointments-paypal\").find(\".app_amount\").val(response.price);\r\n                    $(\".appointments-paypal\").find(\".app_custom\").val(response.app_id);\r\n                    var old_val = $(\".appointments-paypal\").find(\".app_submit_btn\").val();\r\n                    if ( old_val ) {\r\n                        var new_val = old_val.replace(\"PRICE\",response.price).replace(\"SERVICE\",response.service_name);\r\n                        $(\".appointments-paypal\").find(\".app_submit_btn\").val(new_val);\r\n                        var old_val2 = $(\".appointments-paypal\").find(\".app_item_name\").val();\r\n                        var new_val2 = old_val2.replace(\"SERVICE\",response.service_name);\r\n                        $(\".appointments-paypal\").find(\".app_item_name\").val(new_val2);\r\n                        $(\".appointments-paypal .app_submit_btn\").focus();\r\n                    }\r\n                    if ( response.gcal_url != \"\" ) {\r\n                        window.open(response.gcal_url,\"_blank\");\r\n                    }\r\n                    if ( response.mp == 1 ) {\r\n                        $(\".mp_buy_form\")\r\n                            .find(\"[name='variation']\").remove().end()\r\n                            .append(\"<input type='hidden' name='variation' />\")\r\n                        ;\r\n                        $(\".mp_buy_form input[name='variation']\").val(response.variation);\r\n                        $(\".mp_buy_form\").show();\r\n                    }\r\n                    else {\r\n                        $(\".appointments-paypal\").show();\r\n                    }\r\n                    $(document).trigger(\"app-confirmation-response_received\", [response]);\r\n                }\r\n                else{\r\n                    swal({\r\n                        title:AppShortcodeConfirmation.errorTitle,\r\n                        text: self.strings.connectionErrorText,\r\n                        type: 'error'\r\n                    }, function() {\r\n                        $(document).trigger(\"app-confirmation-response_received\", [response]);\r\n                    });\r\n\r\n                }\r\n\r\n            },\"json\");\r\n        }\r\n    };\r\n\r\n    Appointments.shortcodes.confirmation.init();\r\n});\r\n\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// app-confirmation.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 99066c14eb7771d52560","\"use strict\";\r\n\r\nwindow.Appointments = window.Appointments || {};\r\nAppointments.shortcodes = Appointments.shortcodes || {};\r\n\r\n\r\njQuery( document).ready( function( $ ) {\r\n    Appointments.shortcodes.confirmation = {\r\n        init: function() {\r\n            this.strings = AppShortcodeConfirmation;\r\n            this.waitImg = \"<img class='wait_img' src='\" + this.strings.waitingGif + \"' />\";\r\n            this.$finalValue = $('.appointments-confirmation-final-value');\r\n\r\n            this.$confirmationButton = $(\".appointments-confirmation-button\");\r\n\r\n            this.$gcalEntry = $(\".appointments-gcal-field-entry\");\r\n\r\n            this.selectedValue = '';\r\n\r\n            this.bind();\r\n        },\r\n\r\n        bind: function() {\r\n            var self = this;\r\n\r\n            var $body = $('body');\r\n            $body.on( 'click', '.app_timetable_cell.free, .app_week_timetable_cell.free', function() {\r\n                self.preConfirmation.apply( self, [ $(this) ] );\r\n            } );\r\n\r\n            $body.on('click', '.appointments-confirmation-cancel-button', function(){\r\n                if ( typeof app_cancel_location === 'function' ) {\r\n                    window.location.href = app_cancel_location();\r\n                }\r\n                else {\r\n                    window.location.reload();\r\n                }\r\n            });\r\n\r\n            $body.on( 'click', '.appointments-confirmation-button', function() {\r\n                self.confirmation.apply( self, [ $(this) ] );\r\n            });\r\n\r\n        },\r\n\r\n        preConfirmation: function( $element ) {\r\n            this.selectedValue = '';\r\n            $element\r\n                .css( \"text-align\",\"center\" )\r\n                .append( this.waitImg );\r\n\r\n            var app_value = $element.find(\".appointments_take_appointment\").val();\r\n\r\n            this.selectedValue = app_value;\r\n\r\n            var pre_data = {\r\n                action: \"pre_confirmation\",\r\n                value: app_value,\r\n                nonce: AppShortcodeConfirmation.nonce\r\n            };\r\n\r\n            var self = this;\r\n\r\n            $.post( AppShortcodeConfirmation.ajaxurl, pre_data, function( response ) {\r\n                $(\".wait_img\").remove();\r\n\r\n                if ( response && response.error ) {\r\n                    swal(AppShortcodeConfirmation.errorTitle, response.error, 'error');\r\n                }\r\n                else {\r\n                    $(\"#appointments-confirmation-wrappermodal\").modal(\"show\");\r\n                    $(\".appointments-confirmation-service\").html(response.service);\r\n                    /**\r\n                     * Service location\r\n                     */\r\n                    if (response.service_location){\r\n                        $(\".appointments-confirmation-service_location\").html(response.service_location).show();\r\n                    }\r\n                    if (response.worker){\r\n                        $(\".appointments-confirmation-worker\").html(response.worker).show();\r\n                    }\r\n                    /**\r\n                     * worker location\r\n                     */\r\n                    if (response.worker_location){\r\n                        $(\".appointments-confirmation-worker_location\").html(response.worker_location).show();\r\n                    }\r\n                    $(\".appointments-confirmation-start\").html(response.start);\r\n                    $(\".appointments-confirmation-end\").html(response.end);\r\n\r\n                    var confirmationPrice = $(\".appointments-confirmation-price\");\r\n                    confirmationPrice.html(response.price);\r\n                    if (response.price != \"0\"){\r\n                        confirmationPrice.show();\r\n                    }\r\n                    if ( self.strings.askName ){\r\n                        $(\".appointments-name-field\").show();\r\n                    }\r\n                    if ( self.strings.askEmail ){\r\n                        $(\".appointments-email-field\").show();\r\n                    }\r\n                    if ( self.strings.askPhone ){\r\n                        $(\".appointments-phone-field\").show();\r\n                    }\r\n                    if ( self.strings.askAddress ){\r\n                        $(\".appointments-address-field\").show();\r\n                    }\r\n                    if ( self.strings.askCity ){\r\n                        $(\".appointments-city-field\").show();\r\n                    }\r\n                    if ( self.strings.askNote ){\r\n                        $(\".appointments-note-field\").show();\r\n                    }\r\n                    if ( self.strings.askGCal ){\r\n                        $(\".appointments-gcal-field\").show();\r\n                    }\r\n\r\n                    $(\".appointments-confirmation-button\").focus();\r\n                    var offset = $(\".appointments-confirmation-wrapper\").offset();\r\n                    if (offset && \"top\" in offset && offset.top) {\r\n                        $(window).scrollTop(offset.top);\r\n                    }\r\n                }\r\n            },\"json\");\r\n\r\n        },\r\n\r\n        confirmation: function() {\r\n            $(\".appointments-confirmation-cancel-button\").after(this.waitImg);\r\n\r\n            var final_value = this.selectedValue;\r\n            var app_name = $(\".appointments-name-field-entry\").val();\r\n            var app_email = $(\".appointments-email-field-entry\").val();\r\n            var app_phone = $(\".appointments-phone-field-entry\").val();\r\n            var app_address = $(\".appointments-address-field-entry\").val();\r\n            var app_city = $(\".appointments-city-field-entry\").val();\r\n            var app_note = $(\".appointments-note-field-entry\").val();\r\n            var app_gcal = \"\";\r\n            var app_warning_text = AppShortcodeConfirmation.warningText;\r\n            var app_confirmation_text = AppShortcodeConfirmation.confirmationText;\r\n            var app_gdpr = $('.appointments-gdpr-confirmation input[type=checkbox]');\r\n\r\n            var self = this;\r\n\r\n            if ( this.$gcalEntry.is( \":checked\" ) ) {\r\n                app_gcal = 1;\r\n            }\r\n\r\n            var post_data = {\r\n                action: \"post_confirmation\",\r\n                value: final_value,\r\n                app_name: app_name,\r\n                app_email: app_email,\r\n                app_phone: app_phone,\r\n                app_address: app_address,\r\n                app_city: app_city,\r\n                app_note: app_note,\r\n                app_gcal: app_gcal,\r\n                app_gdpr: app_gdpr.is(':checked'),\r\n                nonce: AppShortcodeConfirmation.nonce\r\n            };\r\n\r\n            if ( AppShortcodeConfirmation.askName ) {\r\n                if ($(\".appointments-name-field-entry\").val() == \"\") {\r\n                    swal(AppShortcodeConfirmation.errorTitle, app_warning_text, 'error' );\r\n                    $(\".appointments-name-field-entry\").focus();\r\n                    $(\".wait_img\").remove();\r\n                    return false;\r\n                }\r\n            }\r\n            if ( AppShortcodeConfirmation.askEmail ) {\r\n                if ($(\".appointments-email-field-entry\").val() == \"\") {\r\n                    swal(AppShortcodeConfirmation.errorTitle, app_warning_text, 'error' );\r\n                    $(\".appointments-email-field-entry\").focus();\r\n                    $(\".wait_img\").remove();\r\n                    return false;\r\n                }\r\n            }\r\n            if ( AppShortcodeConfirmation.askPhone ) {\r\n                if ($(\".appointments-phone-field-entry\").val() == \"\") {\r\n                    swal(AppShortcodeConfirmation.errorTitle, app_warning_text, 'error' );\r\n                    $(\".appointments-phone-field-entry\").focus();\r\n                    $(\".wait_img\").remove();\r\n                    return false;\r\n                }\r\n            }\r\n            if ( AppShortcodeConfirmation.askAddress ) {\r\n                if ($(\".appointments-address-field-entry\").val() == \"\") {\r\n                    swal(AppShortcodeConfirmation.errorTitle, app_warning_text, 'error' );\r\n                    $(\".appointments-address-field-entry\").focus();\r\n                    $(\".wait_img\").remove();\r\n                    return false;\r\n                }\r\n            }\r\n            if ( AppShortcodeConfirmation.askCity ) {\r\n                if ($(\".appointments-city-field-entry\").val() == \"\") {\r\n                    swal(AppShortcodeConfirmation.errorTitle, app_warning_text, 'error' );\r\n                    $(\".appointments-city-field-entry\").focus();\r\n                    $(\".wait_img\").remove();\r\n                    return false;\r\n                }\r\n            }\r\n            if ( AppShortcodeConfirmation.askGDPR && ! app_gdpr.is(':checked')) {\r\n                swal(AppShortcodeConfirmation.errorTitle, AppShortcodeConfirmation.GDPRmissingText, 'error' );\r\n                app_gdpr.focus();\r\n                $(\".wait_img\").remove();\r\n                return false;\r\n            }\r\n\r\n            $.post(AppShortcodeConfirmation.ajaxurl, post_data, function(response) {\r\n                $(\".wait_img\").hide();\r\n                if ( response && response.error ) {\r\n                    swal({\r\n                        title:AppShortcodeConfirmation.errorTitle,\r\n                        text: response.error,\r\n                        type: 'error'\r\n                    }, function() {\r\n                        $(document).trigger(\"app-confirmation-response_received\", [response]);\r\n                    });\r\n                }\r\n                else if ( response && ( response.refresh==\"1\" || response.price==0 ) ) {\r\n                    swal({\r\n                        title: app_confirmation_text,\r\n                        type: 'success'\r\n                    }, function() {\r\n                        if ( response.gcal_url != \"\" ) {\r\n                            if ( response.gcal_same_window ) {\r\n                                window.open(response.gcal_url,\"_self\");\r\n                            }\r\n                            else {\r\n                                window.open(response.gcal_url,\"_blank\");\r\n                                if ( typeof app_location === 'function' ) {\r\n                                    window.location.href=app_location();\r\n                                }\r\n                                else {\r\n                                    window.location.reload();\r\n                                }\r\n                            }\r\n                        }\r\n                        else {\r\n                            if ( typeof app_location === 'function' ) {\r\n                                window.location.href=app_location();\r\n                            }\r\n                            else {\r\n                                window.location.reload();\r\n                            }\r\n                        }\r\n                        $(document).trigger(\"app-confirmation-response_received\", [response]);\r\n                    });\r\n\r\n\r\n                }\r\n                else if ( response ) {\r\n                    $(\".appointments-paypal\").find(\".app_amount\").val(response.price);\r\n                    $(\".appointments-paypal\").find(\".app_custom\").val(response.app_id);\r\n                    var old_val = $(\".appointments-paypal\").find(\".app_submit_btn\").val();\r\n                    if ( old_val ) {\r\n                        var new_val = old_val.replace(\"PRICE\",response.price).replace(\"SERVICE\",response.service_name);\r\n                        $(\".appointments-paypal\").find(\".app_submit_btn\").val(new_val);\r\n                        var old_val2 = $(\".appointments-paypal\").find(\".app_item_name\").val();\r\n                        var new_val2 = old_val2.replace(\"SERVICE\",response.service_name);\r\n                        $(\".appointments-paypal\").find(\".app_item_name\").val(new_val2);\r\n                        $(\".appointments-paypal .app_submit_btn\").focus();\r\n                    }\r\n                    if ( response.gcal_url != \"\" ) {\r\n                        window.open(response.gcal_url,\"_blank\");\r\n                    }\r\n                    if ( response.mp == 1 ) {\r\n                        $(\".mp_buy_form\")\r\n                            .find(\"[name='variation']\").remove().end()\r\n                            .append(\"<input type='hidden' name='variation' />\")\r\n                        ;\r\n                        $(\".mp_buy_form input[name='variation']\").val(response.variation);\r\n                        $(\".mp_buy_form\").show();\r\n                    }\r\n                    else {\r\n                        $(\".appointments-paypal\").show();\r\n                    }\r\n                    $(document).trigger(\"app-confirmation-response_received\", [response]);\r\n                }\r\n                else{\r\n                    swal({\r\n                        title:AppShortcodeConfirmation.errorTitle,\r\n                        text: self.strings.connectionErrorText,\r\n                        type: 'error'\r\n                    }, function() {\r\n                        $(document).trigger(\"app-confirmation-response_received\", [response]);\r\n                    });\r\n\r\n                }\r\n\r\n            },\"json\");\r\n        }\r\n    };\r\n\r\n    Appointments.shortcodes.confirmation.init();\r\n});\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./_src/shortcodes/js/app-confirmation.dev.js\n// module id = 0\n// module chunks = 2"],"sourceRoot":""}