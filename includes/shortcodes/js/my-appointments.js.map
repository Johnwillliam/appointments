{"version":3,"sources":["webpack:///my-appointments.js","webpack:///webpack/bootstrap 99066c14eb7771d52560","webpack:///./_src/shortcodes/js/my-appointments.dev.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","2","Appointments","window","global","strings","$","MyAppointments","options","change","e","$target","target","cancelAppointment","this","is","swal","title","aysCancel","text","type","showCancelButton","cancelButtonText","no","confirmButtonText","yes","closeOnConfirm","isConfirm","data","attr","bind","appId","action","app_id","cancel_nonce","nonce","post","ajaxurl","response","cancel_box","success","connectionError","cancelled","closest","css","myAppointments","on","appointment_data","ID","price","service_name","post_data","find","val","old_val","new_val","replace","old_val2","new_val2","focus","submit","appMyAppointmentsStrings","jQuery"],"mappings":"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","file":"my-appointments.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 2);\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ 2:\n/***/ (function(module, exports) {\n\nAppointments = window.Appointments || {};\r\n\r\n( function( global, strings, $ ) {\r\n    \"use strict\";\r\n\r\n    /**\r\n     * Constructor\r\n     *\r\n     * @param options\r\n     * @returns {MyAppointments}\r\n     * @constructor\r\n     */\r\n    function MyAppointments( options ) {\r\n        $(\".app-my-appointments-cancel\").change( function(e) {\r\n            var $target = $( e.target );\r\n            var cancelAppointment = this.cancelAppointment;\r\n            if ( $target.is( ':checked' ) ) {\r\n                swal({\r\n                        title: strings.aysCancel,\r\n                        text: \"\",\r\n                        type: \"warning\",\r\n                        showCancelButton: true,\r\n                        cancelButtonText: strings.no,\r\n                        confirmButtonText: strings.yes,\r\n                        closeOnConfirm: true\r\n                    },\r\n                    function( isConfirm ){\r\n                        if ( ! isConfirm ) {\r\n                            $target.attr(\"checked\", false);\r\n                        }\r\n                        else {\r\n                            cancelAppointment( $target.data( 'app-id' ) );\r\n                        }\r\n                    });\r\n\r\n            }\r\n        }.bind( this ));\r\n        return this;\r\n    }\r\n\r\n    MyAppointments.prototype.cancelAppointment = function( appId ) {\r\n        var data = {\r\n            action: \"cancel_user_app\",\r\n            app_id: appId,\r\n            cancel_nonce: strings.nonce\r\n        };\r\n\r\n        $.post(strings.ajaxurl, data, function(response) {\r\n            var cancel_box = $('input#cancel-' + appId );\r\n            if ( typeof response.success === 'undefined' ) {\r\n                cancel_box.attr(\"disabled\",true);\r\n                swal( strings.connectionError, '', 'error' );\r\n                return;\r\n            }\r\n\r\n            if ( response.success ) {\r\n                swal( strings.cancelled, '', 'success' );\r\n                cancel_box.closest(\"tr\").css(\"opacity\",\"0.3\");\r\n                cancel_box.attr(\"disabled\",true);\r\n            }\r\n            else {\r\n                swal(response.data);\r\n            }\r\n        }, \"json\");\r\n    };\r\n\r\n\r\n\r\n    /**\r\n     * Helper constructor function\r\n     *\r\n     * @param options\r\n     * @returns {MyAppointments}\r\n     */\r\n    global.myAppointments = function( options ) {\r\n        return new MyAppointments( options );\r\n    };\r\n\r\n\r\n\t$('body').on( 'click', '.appointments-paid-button', function() {\r\n\t\tvar appointment_data = $(this).data('appointment');\r\n\t\tif ( !appointment_data || !appointment_data.ID || !appointment_data.price || !appointment_data.service_name )\r\n\t\t\treturn false;\r\n\t\tvar post_data = {\r\n\t\t\tprice: appointment_data.price,\r\n\t\t\tapp_id: appointment_data.ID,\r\n\t\t\tservice_name: appointment_data.service_name\r\n\t\t};\r\n\t\t$(\".appointments-paypal\").find(\".app_amount\").val(post_data.price);\r\n\t\t$(\".appointments-paypal\").find(\".app_custom\").val(post_data.app_id);\r\n\t\tvar old_val = $(\".appointments-paypal\").find(\".app_submit_btn\").val();\r\n\t\tif ( old_val ) {\r\n\t\t\tvar new_val = old_val.replace(\"PRICE\",post_data.price).replace(\"SERVICE\",post_data.service_name);\r\n\t\t\t$(\".appointments-paypal\").find(\".app_submit_btn\").val(new_val);\r\n\t\t\tvar old_val2 = $(\".appointments-paypal\").find(\".app_item_name\").val();\r\n\t\t\tvar new_val2 = old_val2.replace(\"SERVICE\",post_data.service_name);\r\n\t\t\t$(\".appointments-paypal\").find(\".app_item_name\").val(new_val2);\r\n\t\t\t$(\".appointments-paypal .app_submit_btn\").focus();\r\n\t\t}\r\n\r\n\t\t$(\".appointments-paypal\").find(\"form\").submit();\r\n\t});\r\n\r\n})( Appointments, appMyAppointmentsStrings, jQuery );\n\n/***/ })\n\n/******/ });\n\n\n// WEBPACK FOOTER //\n// my-appointments.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 99066c14eb7771d52560","Appointments = window.Appointments || {};\r\n\r\n( function( global, strings, $ ) {\r\n    \"use strict\";\r\n\r\n    /**\r\n     * Constructor\r\n     *\r\n     * @param options\r\n     * @returns {MyAppointments}\r\n     * @constructor\r\n     */\r\n    function MyAppointments( options ) {\r\n        $(\".app-my-appointments-cancel\").change( function(e) {\r\n            var $target = $( e.target );\r\n            var cancelAppointment = this.cancelAppointment;\r\n            if ( $target.is( ':checked' ) ) {\r\n                swal({\r\n                        title: strings.aysCancel,\r\n                        text: \"\",\r\n                        type: \"warning\",\r\n                        showCancelButton: true,\r\n                        cancelButtonText: strings.no,\r\n                        confirmButtonText: strings.yes,\r\n                        closeOnConfirm: true\r\n                    },\r\n                    function( isConfirm ){\r\n                        if ( ! isConfirm ) {\r\n                            $target.attr(\"checked\", false);\r\n                        }\r\n                        else {\r\n                            cancelAppointment( $target.data( 'app-id' ) );\r\n                        }\r\n                    });\r\n\r\n            }\r\n        }.bind( this ));\r\n        return this;\r\n    }\r\n\r\n    MyAppointments.prototype.cancelAppointment = function( appId ) {\r\n        var data = {\r\n            action: \"cancel_user_app\",\r\n            app_id: appId,\r\n            cancel_nonce: strings.nonce\r\n        };\r\n\r\n        $.post(strings.ajaxurl, data, function(response) {\r\n            var cancel_box = $('input#cancel-' + appId );\r\n            if ( typeof response.success === 'undefined' ) {\r\n                cancel_box.attr(\"disabled\",true);\r\n                swal( strings.connectionError, '', 'error' );\r\n                return;\r\n            }\r\n\r\n            if ( response.success ) {\r\n                swal( strings.cancelled, '', 'success' );\r\n                cancel_box.closest(\"tr\").css(\"opacity\",\"0.3\");\r\n                cancel_box.attr(\"disabled\",true);\r\n            }\r\n            else {\r\n                swal(response.data);\r\n            }\r\n        }, \"json\");\r\n    };\r\n\r\n\r\n\r\n    /**\r\n     * Helper constructor function\r\n     *\r\n     * @param options\r\n     * @returns {MyAppointments}\r\n     */\r\n    global.myAppointments = function( options ) {\r\n        return new MyAppointments( options );\r\n    };\r\n\r\n\r\n\t$('body').on( 'click', '.appointments-paid-button', function() {\r\n\t\tvar appointment_data = $(this).data('appointment');\r\n\t\tif ( !appointment_data || !appointment_data.ID || !appointment_data.price || !appointment_data.service_name )\r\n\t\t\treturn false;\r\n\t\tvar post_data = {\r\n\t\t\tprice: appointment_data.price,\r\n\t\t\tapp_id: appointment_data.ID,\r\n\t\t\tservice_name: appointment_data.service_name\r\n\t\t};\r\n\t\t$(\".appointments-paypal\").find(\".app_amount\").val(post_data.price);\r\n\t\t$(\".appointments-paypal\").find(\".app_custom\").val(post_data.app_id);\r\n\t\tvar old_val = $(\".appointments-paypal\").find(\".app_submit_btn\").val();\r\n\t\tif ( old_val ) {\r\n\t\t\tvar new_val = old_val.replace(\"PRICE\",post_data.price).replace(\"SERVICE\",post_data.service_name);\r\n\t\t\t$(\".appointments-paypal\").find(\".app_submit_btn\").val(new_val);\r\n\t\t\tvar old_val2 = $(\".appointments-paypal\").find(\".app_item_name\").val();\r\n\t\t\tvar new_val2 = old_val2.replace(\"SERVICE\",post_data.service_name);\r\n\t\t\t$(\".appointments-paypal\").find(\".app_item_name\").val(new_val2);\r\n\t\t\t$(\".appointments-paypal .app_submit_btn\").focus();\r\n\t\t}\r\n\r\n\t\t$(\".appointments-paypal\").find(\"form\").submit();\r\n\t});\r\n\r\n})( Appointments, appMyAppointmentsStrings, jQuery );\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./_src/shortcodes/js/my-appointments.dev.js\n// module id = 2\n// module chunks = 0"],"sourceRoot":""}